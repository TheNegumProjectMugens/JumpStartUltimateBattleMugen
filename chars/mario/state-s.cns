; Mario Special Attacks
;---------------------------------------------------------------------------
; Standing Light Attack
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
poweradd = 20
anim = 200
ctrl = 0

[State 200, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 0
channel = 1

[State 200, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 20, 0
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 6, 6
sparkno = 0
sparkxy = -10, -20
hitsound = S1, 0
guardsound = S2, 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 16
ground.velocity = -2
airguard.velocity = -1,-1
air.type = High
air.velocity = -2,-2
air.hittime = 16

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Smash Punch
[Statedef 205]
type    = S
movetype= A
physics = S
juggle  = 5
velset = 0,0
poweradd = 50
anim = 205
ctrl = 0

[State 205, 0]
type = PalFX
trigger1 = AnimElem = 2, < 0
trigger1 = TimeMod = 2,0
time = 1
add = 150,150,150

[State 205, VarRandom]
type = VarRandom
trigger1 = AnimElem = 3
v = 0
range = 0,1

[State 205, 1]
type = PlaySnd
triggerall = Var(5) = 0
trigger1 = Var(0) <= 0
trigger1 = AnimElem = 3
value = 10, 2
channel = 0

[State 205, 1]
type = PlaySnd
triggerall = Var(5) = 0
trigger1 = Var(0) > 0
trigger1 = AnimElem = 3
value = 10, 0
channel = 0

[State 205, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 2
channel = 1

[State 205, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 145, 0
animtype = DiagUp
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 10, 10
sparkno = 2
sparkxy = -10, -20
hitsound = S1, 2
guardsound = S2, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -8,-2
airguard.velocity = -4,-1
air.type = High
air.velocity = -8,-2
air.hittime = 20
air.fall = 1
fall = 1

[State 205, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Medium Attack
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
poweradd = 40
anim = 210
ctrl = 0

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 0
channel = 1

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 20, 0
animtype = Medium
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 8, 8
sparkno = 1
sparkxy = -10, -20
hitsound = S1, 0
guardsound = S2, 0
ground.type = High
ground.slidetime = 15
ground.hittime  = 18
ground.velocity = -4
airguard.velocity = -2,-1
air.type = High
air.velocity = -4,-2
air.hittime = 18

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Head Smash
[Statedef 215]
type    = S
movetype= A
physics = S
juggle  = 5
velset = 0,0
poweradd = 50
anim = 215
ctrl = 0

[State 215, 0]
type = PalFX
trigger1 = AnimElem = 3, < 0
trigger1 = TimeMod = 2,0
time = 1
add = 150,150,150

[State 215, VarRandom]
type = VarRandom
trigger1 = AnimElem = 4
v = 0
range = 0,2

[State 215, 1]
type = PlaySnd
triggerall = Var(5) = 0
trigger1 = Var(0) <= 0
trigger1 = AnimElem = 4
value = 10, 2
channel = 0

[State 215, 1]
type = PlaySnd
triggerall = Var(5) = 0
trigger1 = Var(0) = 1
trigger1 = AnimElem = 4
value = 10, 1
channel = 0

[State 215, 1]
type = PlaySnd
triggerall = Var(5) = 0
trigger1 = Var(0) > 1
trigger1 = AnimElem = 4
value = 10, 0
channel = 0

[State 215, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 2
channel = 1

[State 215, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 190, 0
animtype = Up
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 10, 10
sparkno = 2
sparkxy = 0, -30
hitsound = S1, 2
guardsound = S2, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 18
guard.velocity = -5
ground.velocity = -1,-20
airguard.velocity = -2,-5
air.type = High
air.velocity = -1,-20
air.hittime = 18
air.fall = 1
yaccel = .55
fall = 1

[State 215, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Hop Kick
[Statedef 220]
type    = A
movetype= A
physics = A
juggle  = 6
velset = 0,-2
poweradd = 60
anim = 220
ctrl = 0

[State 220, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 220, 0]
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
x = 10

[State 220, Sound]
type = PlaySnd
triggerall = Var(5) = 0
trigger1 = AnimElem = 4
value = 10,2
channel = 0

[State 220, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 1
channel = 1

[State 220, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = A, NA
damage = 40, 0
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 10, 10
sparkno = 1
sparkxy = -10, -20
hitsound = S1, 4
guardsound = S2, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4,-2
airguard.velocity = -2,-1
air.type = High
air.velocity = -4,-2
air.hittime = 20

[State 220, 0]
type = PosAdd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
x = -10

;---------------------------------------------------------------------------
; Standing Uppercut
[Statedef 225]
type    = S
movetype= A
physics = S
juggle  = 5
velset = 0,0
poweradd = 50
anim = 225
ctrl = 0

[State 225, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0, 1
channel = 1

[State 225, 2]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
damage = 100, 0
animtype = Up
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 8, 8
sparkno = 1
sparkxy = -10, -30
hitsound = S1, 1
guardsound = S2, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 18
guard.velocity = -5
ground.velocity = -1,-10
airguard.velocity = -2,-5
air.type = High
air.velocity = -1,-10
air.hittime = 18
air.fall = 1
fall = 1

[State 225, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Kick
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 5
velset = 0,0
poweradd = 50
anim = 230
ctrl = 0

[State 230, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 1
channel = 1

[State 230, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = 130, 0
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 10, 10
sparkno = 1
sparkxy = -10, -15
hitsound = S1, 4
guardsound = S2, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4,-2
airguard.velocity = -2,-1
air.type = High
air.velocity = -4,-2
air.hittime = 20
air.fall = 1
fall = 1

[State 230, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Dash Attack
[Statedef 250]
type    = C
movetype= A
physics = N
juggle  = 5
poweradd = 50
anim = 250
ctrl = 0

[State 250, Explod]
type = Explod
trigger1 = AnimElem = 3
shadow = 100,100,100
sprpriority = 5
postype = p1
anim = 900
pos = 0,0
id = 900

[State 250, VarRandom]
type = VarRandom
trigger1 = AnimElem = 3
v = 0
range = 0,2

[State 250, 1]
type = PlaySnd
triggerall = Var(5) = 0
trigger1 = Var(0) <= 0
trigger1 = AnimElem = 3
value = 10, 2
channel = 0

[State 250, 1]
type = PlaySnd
triggerall = Var(5) = 0
trigger1 = Var(0) = 1
trigger1 = AnimElem = 3
value = 10, 1
channel = 0

[State 215, Sound]
type = PlaySnd
triggerall = Var(5) = 0
trigger1 = Var(0) > 1
trigger1 = AnimElem = 3
value = 10,0
channel = 0

[State 250, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 2
channel = 1

[State 250, 3]
type = VelMul
triggerall = Vel X > 0
trigger1 = AnimElem = 4, > 0
x = 0.9

[State 250, 4]
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA
damage = 85, 0
animtype = Heavy
guardflag = L
hitflag = MAFD
priority = 3, Hit
pausetime = 8, 8
sparkno = 2
sparkxy = -10, 0
hitsound = S1, 5
guardsound = S2, 0
ground.type = Trip
ground.slidetime = 20
ground.hittime  = 18
ground.velocity = -4,-4
airguard.velocity = -2,-2
air.type = Trip
air.velocity = -4,-4
air.hittime = 18
air.fall = 1
fall = 1

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Coin Punch Uppercut
[Statedef 300]
type    = A
movetype= A
physics = N
juggle  = 5
velset = 0,0
poweradd = 50
anim = 300
ctrl = 0

[State 300, StateType]
type = StateTypeSet
trigger1 = Pos Y = 0
trigger1 = AnimElem = 7, < 0
statetype = S

[State 300, StateType]
type = StateTypeSet
trigger1 = Pos Y != 0
trigger1 = AnimElem = 7, < 0
statetype = A

[State 300, Explod]
type = Explod
trigger1 = StateType != A
trigger1 = AnimElem = 4
shadow = 100,100,100
sprpriority = 5
postype = p1
anim = 900
pos = 0,0
id = 900

[State 300, Sound]
type = PlaySnd
trigger1 = AnimElem = 5
value = 6,0
channel = 1

[State 300, Helper]
type = Helper
trigger1 = MoveHit
helpertype = normal
ignorehitpause = 1
name = "Coin"
size.ground.back = 5
size.ground.front = 5
size.air.back = 5
size.air.front = 5
size.xscale = 1
size.yscale = 1
id = 305
facing = 1
pos = 0,-30
postype = P2
stateno = 305
keyctrl = 0
ownpal = 1

[State 300, Reset]
type = MoveHitReset
trigger1 = MoveHit
ignorehitpause = 1

[State 300, HitDef]
type = HitDef
trigger1 = AnimElem = 6
attr = A, SA
damage = 50, 0
animtype = Medium
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 10, 8
sparkno = 1
sparkxy = -10, -20
hitsound = S6, 1
guardsound = S2, 0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 18
ground.velocity = -2,-10
airguard.velocity = -1,-5
air.type = Low
air.velocity = -2,-10
fall.animtype = Medium
air.hittime = 18
air.fall = 1
fall = 1

[State 300, HitDef]
type = HitDef
trigger1 = Time < 15
trigger1 = AnimElem = 7, >= 0
trigger1 = AnimElem = 8, < 0
trigger1 = TimeMod = 2,0
attr = A, SA
damage = 10, 0
animtype = Up
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 5, 5
sparkno = 1
sparkxy = -10, -50
hitsound = S6, 1
guardsound = S2, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 18
ground.velocity = -2,-10
airguard.velocity = -1,-5
air.type = High
air.velocity = -2,-10
air.hittime = 18
air.fall = 1
fall = 1

[State 300, HitDef]
type = HitDef
trigger1 = Time >= 15
trigger1 = AnimElem = 7, >= 0
trigger1 = AnimElem = 8, < 0
trigger1 = TimeMod = 2,0
attr = A, SA
damage = 30, 0
animtype = DiagUp
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 5, 5
sparkno = 1
sparkxy = -10, -50
hitsound = S6, 1
guardsound = S2, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 18
ground.velocity = -4,-8
airguard.velocity = -1,-4
air.type = High
air.velocity = -4,-8
air.hittime = 18
air.fall = 1
fall = 1

[State 300, StateType]
type = StateTypeSet
trigger1 = AnimElem = 7
statetype = A
physics = A

[State 300, VelSet]
type = VelSet
trigger1 = AnimElem = 7
x = 10
y = -15

[State 300, VelAdd]
type = VelAdd
triggerall = Vel X > 0
trigger1 = AnimElem = 7, >= 0
trigger1 = AnimElem = 11, <= 0
x = -0.5

[State 300, Add]
type = VelAdd
triggerall = Vel Y < 0
trigger1 = AnimElem = 7, >= 0
trigger1 = AnimElem = 11, <= 0
y = 1

;---------------------------------------------------------------------------
; Coin Object
[Statedef 305]
type    = A
movetype= A
physics = N
sprpriority = 5
velset = 0,-20
anim = 305
ctrl = 0

[State 305, 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 305, VelSet]
type = VelSet
trigger1 = RootDist X = 0
x = 0

[State 305, VelAdd]
type = VelAdd
triggerall = Vel X < 3
trigger1 = RootDist X > 0
x = 1

[State 305, VelAdd]
type = VelAdd
triggerall = Vel X > -3
trigger1 = RootDist X <= 0
x = -1

[State 305, VelAdd]
type = VelAdd
trigger1 = RootDist Y > 0
trigger1 = Vel Y < 20
y = 2

[State 305, VelAdd]
type = null ;VelAdd
trigger1 = RootDist Y <= 0
trigger1 = Vel Y > -20
y = -2

[State 305, State]
type = ChangeState
triggerall = Time > 0
triggerall = Vel Y > 0
trigger1 = RootDist X < 50
trigger1 = RootDist X > -50
trigger1 = RootDist Y <= 50
trigger1 = RootDist Y >= 0
value = 306

[State 305, Destroy]
type = DestroySelf
trigger1 = Time > 0
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0

;---------------------------------------------------------------------------
; Coin Disappear
[Statedef 306]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 5
anim = 306
ctrl = 0

[State 305, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 305, Destroy]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; Tornado Spin
[Statedef 310]
type    = A
movetype= A
physics = N
juggle  = 5
poweradd = 50
anim = 311
ctrl = 0

[State 310, 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 310, VarRandom]
type = VarRandom
trigger1 = Time <= 0
v = 0
range = 0,2

[State 310, VarSet]
type = VarSet
trigger1 = Time <= 0
trigger2 = Var(1) < -1
var(1) = 1

[State 310, VarSet]
type = VarAdd
trigger1 = Anim = 311
trigger1 = AnimTime = 0
var(1) = -2

[State 310, StateType]
type = StateTypeSet
trigger1 = Pos Y = 0
statetype = S

[State 310, StateType]
type = StateTypeSet
trigger1 = Pos Y != 0
statetype = A

[State 310, Dust]
type = MakeDust
trigger1 = StateType != A
trigger1 = Pos Y = 0
pos = 5,0
spacing = 4

[State 310, Dust]
type = MakeDust
trigger1 = StateType != A
trigger1 = Pos Y = 0
pos = -5,0
spacing = 8

[State 310, VelAdd]
type = VelAdd
trigger1 = Command = "y"
trigger2 = Command = "b"
trigger2 = Var(50) < 0
y = -1.5

[State 310, 1]
type = VelAdd
trigger1 = StateType = A
y = .25

[State 310, Sound]
type = PlaySnd
triggerall = Var(5) = 0
triggerall = Var(0) <= 0
trigger1 = AnimElem = 1
value = 10,3
channel = 0

[State 310, Sound]
type = PlaySnd
triggerall = Var(5) = 0
triggerall = Var(0) = 1
trigger1 = AnimElem = 1
value = 10,1
channel = 0

[State 310, Sound]
type = PlaySnd
triggerall = Var(5) = 0
triggerall = Var(0) > 1
trigger1 = AnimElem = 1
value = 10,15
channel = 0

[State 310, 1]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
value = 0, 0

[State 310, VelSet]
type = VelSet
trigger1 = Pos Y >= -0
x = 0

[State 310, VelSet]
type = VelSet
trigger1 = Pos Y >= -0
trigger1 = Vel Y >= 0
y = 0

[State 310, PosSet]
type = PosSet
trigger1 = Pos Y >= -0
trigger1 = Vel Y >= 0
y = 0

[State 310, 2]
type = HitDef
trigger1 = Time > 0
trigger1 = TimeMod = 10,5
trigger2 = Time < 5
trigger2 = AnimElem = 2
attr = A, SA
damage = 10, 0
animtype = Medium
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 3, 2
sparkno = 1
sparkxy = -10, -25
hitsound = S1, 4
guardsound = S2, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 16
p2facing = Var(1) ;ifelse (P2Dist X <= 0, -1, 1)
ground.velocity = ifelse (P2Dist X <= 0, -5, 5),0
airguard.velocity = ifelse (P2Dist X <= 0, -2.5, 2.5),0
air.type = High
air.velocity = ifelse (P2Dist X <= 0, -5, 5),0
air.hittime = 16

[State 310, 2]
type = HitDef
trigger1 = Time > 0
trigger1 = TimeMod = 10,0
trigger2 = Time < 5
trigger2 = AnimElem = 2
attr = A, SA
damage = 10, 0
animtype = Medium
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 3, 2
sparkno = 1
sparkxy = -10, -25
hitsound = S1, 4
guardsound = S2, 0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 16
p2facing = Var(1) ;ifelse (P2Dist X <= 0, -1, 1)
ground.velocity = ifelse (P2Dist X <= 0, -5, 5),0
airguard.velocity = ifelse (P2Dist X <= 0, -2.5, 2.5),0
air.type = Low
air.velocity = ifelse (P2Dist X <= 0, -5, 5),0
air.hittime = 16

[State 310, 5]
type = ChangeState
trigger1 = Time >= 40
trigger1 = AnimTime = 0
value = 315

;---------------------------------------------------------------------------
; Tornado Spin Finish
[Statedef 315]
type    = A
movetype= A
physics = N
anim = 315
ctrl = 0

[State 315, 0]
type = PlayerPush
trigger1 = 1
value = 0

[State 315, StateType]
type = StateTypeSet
trigger1 = Pos Y = 0
statetype = S

[State 315, StateType]
type = StateTypeSet
trigger1 = Pos Y != 0
statetype = A

[State 315, Anim]
type = ChangeAnim
trigger1 = Anim != 315
trigger1 = StateType != A
value = 315
elem = AnimElemNo(0)

[State 315, Anim]
type = ChangeAnim
trigger1 = Anim != 316
trigger1 = StateType = A
value = 316
elem = AnimElemNo(0)

[State 315, VelAdd]
type = VelAdd
trigger1 = StateType = A
y = .25

[State 315, VelSet]
type = VelSet
trigger1 = Pos Y >= -0
x = 0

[State 315, VelSet]
type = VelSet
trigger1 = Pos Y >= -0
trigger1 = Vel Y >= 0
y = 0

[State 315, PosSet]
type = PosSet
trigger1 = Pos Y >= -0
trigger1 = Vel Y >= 0
y = 0

[State 315, 2]
type = HitDef
triggerall = MoveContact = 0
trigger1 = AnimElem = 4
attr = A, SA
damage = 10, 0
animtype = Up
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 10, 10
sparkno = 2
sparkxy = -10, -20
hitsound = S1, 5
guardsound = S2, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1,-10
airguard.velocity = -2,-4
guard.velocity = -10
air.type = High
air.velocity = -1,-10
air.hittime = 20
air.fall = 1
fall = 1

[State 315, State]
type = ChangeState
trigger1 = StateType = S
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[State 315, State]
type = ChangeState
trigger1 = StateType = A
trigger1 = AnimElem = 7
value = 55
ctrl = 1

;---------------------------------------------------------------------------
; Throw Fireball
[Statedef 320]
type    = A
movetype= A
physics = N
juggle  = 5
poweradd = 50
sprpriority = 4
anim = 320
ctrl = 0

[State 320, StateType]
type = StateTypeSet
trigger1 = Pos Y = 0
statetype = S

[State 320, StateType]
type = StateTypeSet
trigger1 = Pos Y != 0
statetype = A

[State 320, Anim]
type = ChangeAnim
trigger1 = Anim != 320
trigger1 = StateType != A
value = 320
elem = AnimElemNo(0)

[State 320, Anim]
type = ChangeAnim
trigger1 = Anim != 321
trigger1 = StateType = A
value = 321
elem = AnimElemNo(0)

[State 320, Veladd]
type = VelAdd
trigger1 = StateType = A
y = .25

[State 320, VelSet]
type = VelSet
trigger1 = Pos Y >= -0
x = 0

[State 320, VelSet]
type = VelSet
trigger1 = Pos Y >= -0
trigger1 = Vel Y >= 0
y = 0

[State 320, PosSet]
type = PosSet
trigger1 = Pos Y >= -0
trigger1 = Vel Y >= 0
y = 0

[State 320, VarSet]
type = VarSet
trigger1 = Time <= 0
v = 0
value = 0

[State 320, Explod]
type = Explod
trigger1 = Var(0) <= 0
trigger1 = StateType != A
trigger1 = AnimElem = 2
shadow = 100,100,100
sprpriority = 5
postype = p1
anim = 900
pos = 0,0
id = 900

[State 320, PalFX]
type = PalFX
trigger1 = Var(0) <= 0
trigger1 = AnimElem = 3,3
time = 2
add = 100,100,100

[State 320, Sound]
type = PlaySnd
trigger1 = Var(0) <= 0
trigger1 = AnimElem = 4
value = 5,0
channel = 1

[State 320, Helper]
type = Helper
trigger1 = Var(0) <= 0
trigger1 = Anim = 320
trigger1 = AnimElem = 4
helpertype = normal
ignorehitpause = 1
name = "Fireball"
size.ground.back = 5
size.ground.front = 5
size.air.back = 5
size.air.front = 5
size.xscale = 1
size.yscale = 1
id = 325
facing = 1
pos = 25,-15
postype = P1
stateno = 325
keyctrl = 0
ownpal = 1

[State 320, Helper]
type = Helper
trigger1 = Var(0) <= 0
trigger1 = Anim = 321
trigger1 = AnimElem = 4
helpertype = normal
ignorehitpause = 1
name = "Fireball"
size.ground.back = 5
size.ground.front = 5
size.air.back = 5
size.air.front = 5
size.xscale = 1
size.yscale = 1
id = 325
facing = 1
pos = 25,-25
postype = P1
stateno = 325
keyctrl = 0
ownpal = 1

[State 320, VarSet]
type = VarSet
trigger1 = AnimElem = 4
v = 0
value = 1

[State 320, State]
type = ChangeState
trigger1 = StateType = S
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 320, State]
type = ChangeState
trigger1 = StateType = A
trigger1 = AnimElem = 8
value = 55
ctrl = 1

;---------------------------------------------------------------------------
; Fireball Object
[Statedef 325]
type    = A
movetype= A
physics = N
juggle  = 5
sprpriority = 2
velset = 3,0
anim = 325
ctrl = 0

[State 325, HitBy]
type = HitBy
trigger1 = 1
value = SCA, AP
time = 1

[State 325, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA, AP
stateno = 326
time = 1

[State 325, AngleSet]
type = AngleSet
trigger1 = Time <= 0
value = 0

[State 325, AngleAdd]
type = AngleAdd
trigger1 = Time > 0
trigger1 = Pos Y < 0
value = -25

[State 325, AngleDraw]
type = AngleDraw
trigger1 = Time > 0

[State 325, Veladd]
type = VelAdd
trigger1 = 1
y = .25

[State 325, VelSet]
type = VelSet
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
y = -Vel Y

[State 325, HitDef]
type = HitDef
trigger1 = MoveContact = 0
attr = A, SP
damage    = 70,0
animtype  = Medium
getpower  = 10
givepower = 20
guardflag = MA
hitflag = MAFD
pausetime = 0,10
sparkno = 1
sparkxy = 0, -10
hitsound   = S5,1
guardsound = S2,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4,-2
airguard.velocity = -2,-1   
air.type = High
air.velocity = -4,-2
air.juggle = 1
palfx.time = 40
palfx.add = 40,-50,-130
palfx.sinadd = 40,30,0,10
palfx.invertall = 1
palfx.color = 100

[State 325, Explod]
type = Explod
triggerall = MoveHit
trigger1 = P2MoveType = H
ignorehitpause = 1
sprpriority = 10
random = 50,50
pos = 0,-50
postype = p2
anim = F2

[State 325, Explod]
type = Explod
triggerall = MoveHit
trigger1 = P2MoveType = H
ignorehitpause = 1
sprpriority = 8
random = 50,50
pos = 0,-50
postype = p2
anim = F3

[State 325, State]
type = ChangeState
trigger1 = MoveContact
value = 326

[State 325, Destroy]
type = DestroySelf
trigger1 = BackEdgeBodyDist <= -100
trigger2 = FrontEdgeBodyDist <= -100

;---------------------------------------------------------------------------
; Fireball Explode
[Statedef 326]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 5
ctrl = 0

[State 325, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 325, Anim]
type = ChangeAnim
trigger1 = Time <= 0
trigger1 = Anim != 330
value = 326

[State 325, Anim]
type = ChangeAnim
trigger1 = Time <= 0
trigger1 = Anim = 330
value = 331

[State 325, AngleSet]
type = AngleSet
trigger1 = Time <= 0
value = 0

[State 325, Destroy]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; Crouch Kick
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 5
velset = 0,0
poweradd = 40
anim = 430
ctrl = 0

[State 430, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 1
channel = 1

[State 430, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 100, 0
animtype = Light
guardflag = L
hitflag = MAFD
priority = 3, Hit
pausetime = 6, 6
sparkno = 0
sparkxy = -10, 0
hitsound = S1, 3
guardsound = S2, 0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 18
ground.velocity = -2,-1
airguard.velocity = -1,-1
down.velocity = -2,0
air.type = Low
air.velocity = -2,-1
air.hittime = 18

[State 430, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouch Kick
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 5
velset = 0,0
poweradd = 50
anim = 440
ctrl = 0

[State 440, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 1
channel = 1

[State 440, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 120, 0
animtype = Medium
guardflag = L
hitflag = MAFD
priority = 3, Hit
pausetime = 8, 8
sparkno = 1
sparkxy = -10, 0
hitsound = S1, 4
guardsound = S2, 0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 18
ground.velocity = -3,-1
airguard.velocity = -1.5,-1
down.velocity = -3,0
air.type = Low
air.velocity = -3,-1
air.hittime = 18

[State 440, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouch Sweep
[Statedef 450]
type    = C
movetype= A
physics = C
juggle  = 5
velset = 0,0
poweradd = 50
anim = 450
ctrl = 0

[State 450, 0]
type = PalFX
trigger1 = AnimElem = 2, < 0
trigger1 = TimeMod = 2,0
time = 1
add = 150,150,150

[State 450, VarRandom]
type = VarRandom
trigger1 = AnimElem = 2
v = 0
range = 0,1

[State 450, 1]
type = PlaySnd
triggerall = Var(5) = 0
trigger1 = Var(0) <= 0
trigger1 = AnimElem = 2
value = 10, 2
channel = 0

[State 450, 1]
type = PlaySnd
triggerall = Var(5) = 0
trigger1 = Var(0) > 0
trigger1 = AnimElem = 2
value = 10, 0
channel = 0

[State 450, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 2
channel = 1

[State 450, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 170, 0
animtype = Heavy
guardflag = L
hitflag = MAFD
priority = 3, Hit
pausetime = 8, 8
sparkno = 2
sparkxy = -10, 0
hitsound = S1, 5
guardsound = S2, 0
ground.type = Trip
ground.slidetime = 20
ground.hittime  = 18
ground.velocity = -4,-4
airguard.velocity = -2,-2
air.type = Trip
air.velocity = -4,-4
air.hittime = 18
air.fall = 1
fall = 1

[State 450, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Jump Kick
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 5
poweradd = 50
anim = 630
ctrl = 0

[State 630, Sound]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 1
channel = 1

[State 630, Hard]
type = HitDef
triggerall = MoveContact = 0
trigger1 = AnimElem = 3
attr = A, NA
damage = 125, 0
animtype = DiagUp
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 8, 8
sparkno = 2
sparkxy = -10, -20
hitsound = S1, 5
guardsound = S2, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 18
ground.velocity = -4,-4
airguard.velocity = -2,-2
air.type = Low
air.velocity = -4,-4
air.hittime = 18
air.fall = 1
fall = 1

[State 630, Soft]
type = HitDef
triggerall = MoveContact = 0
trigger1 = AnimElem = 3, 2
attr = A, NA
damage = 60, 0
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 10, 10
sparkno = 1
sparkxy = -10, -20
hitsound = S1, 4
guardsound = S2, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -4,-2
airguard.velocity = -2,-1
air.type = High
air.velocity = -4,-2
air.hittime = 20

[State 630, State]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = Pos Y >= -10
value = 55
ctrl = 1

;---------------------------------------------------------------------------
; Drill Kick
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 5
poweradd = 50
anim = 640
ctrl = 0

[State 640, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 640, AngleSet]
type = AngleSet
trigger1 = Time <= 0
trigger2 = Time >= 30
trigger2 = AnimTime = 0
trigger3 = Pos Y >= -10
value = 0

[State 640, AngleDraw]
type = AngleDraw
trigger1 = AnimElem = 3, >= 0
trigger1 = Pos Y < -10

[State 640, AngleSet]
type = AngleSet
trigger1 = AnimElem = 3
value = 30

[State 640, PosAdd]
type = PosAdd
trigger1 = Pos Y < -10
trigger1 = AnimElem = 3
x = 5

[State 640, Sound]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 6
value = 0, 0
freqmul = 1.5

[State 640, 2]
type = HitDef
trigger1 = TimeMod = 4,0
attr = A, NA
damage = 30, 0
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 5, 5
sparkno = 1
sparkxy = -20, -5
hitsound = S1, 1
guardsound = S2, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1
airguard.velocity = -0.5,2
down.velocity = 0,0
air.type = High
air.velocity = -1,4
air.hittime = 20

[State 640, PosAdd]
type = PosAdd
trigger1 = Time >= 30
trigger1 = AnimTime = 0
x = -5

[State 640, State]
type = ChangeState
trigger1 = Time >= 30
trigger1 = AnimTime = 0
trigger2 = Pos Y >= -10
value = 55
ctrl = 1

;---------------------------------------------------------------------------
; Smash Kick
[Statedef 650]
type    = A
movetype= A
physics = A
juggle  = 5
poweradd = 50
anim = 650
ctrl = 0

[State 650, AngleSet]
type = AngleSet
trigger1 = Time <= 0
trigger2 = AnimElem = 8
trigger3 = AnimTime = 0
trigger4 = Pos Y >= -10
value = 0

[State 650, AngleDraw]
type = AngleDraw
trigger1 = Pos Y < -10
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 8, < 0

[State 650, AngleSet]
type = AngleSet
trigger1 = AnimElem = 3
value = 90

[State 650, 0]
type = PalFX
trigger1 = AnimElem = 2, < 0
trigger1 = TimeMod = 2,0
time = 1
add = 150,150,150

[State 650, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 2
channel = 1

[State 650, PosAdd]
type = PosAdd
trigger1 = Pos Y < -10
trigger1 = AnimElem = 3
x = 15

[State 650, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = 140, 0
animtype = DiagUp
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 8, 8
sparkno = 2
sparkxy = -10, -30
hitsound = S1, 5
guardsound = S2, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 18
ground.velocity = -6,-4
airguard.velocity = -3,-2
air.type = Low
air.velocity = -6,-4
air.hittime = 18
air.fall = 1
fall = 1

[State 650, PosAdd]
type = PosAdd
trigger1 = Pos Y < -10
trigger1 = AnimElem = 8
x = -15

[State 650, State]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = Pos Y >= -10
value = 55
ctrl = 1

;---------------------------------------------------------------------------
; Flip Kick
[Statedef 660]
type    = A
movetype= A
physics = A
juggle  = 5
poweradd = 50
anim = 660
ctrl = 0

[State 660, AngleDraw]
type = AngleDraw
trigger1 = Pos Y < -10

[State 660, AngleSet]
type = AngleSet
trigger1 = Time <= 0
trigger2 = AnimElem = 9, >= 0
trigger3 = AnimTime = 0
trigger4 = Pos Y >= -10
value = 0

[State 660, AngleSet]
type = AngleSet
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 7
value = -20

[State 660, AngleAdd]
type = AngleAdd
trigger1 = AnimElem = 1, > 0
trigger1 = AnimElem = 5, <= 0
value = 20

[State 660, AngleAdd]
type = AngleAdd
trigger1 = AnimElem = 5, > 0
trigger1 = AnimElem = 7, <= 0
value = 15

[State 660, AngleAdd]
type = AngleAdd
trigger1 = AnimElem = 7, > 0
trigger1 = AnimElem = 9, < 0
value = 10

[State 660, Sound]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 2
channel = 1

[State 660, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = 60, 0
animtype = Heavy
guardflag = MA
hitflag = MAFD
priority = 3, Hit
pausetime = 10, 10
sparkno = 1
sparkxy = -10, -35
hitsound = S1, 4
guardsound = S2, 0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -2,-6
airguard.velocity = -1,-3
air.type = High
air.velocity = -2,-6
air.hittime = 20

[State 660, State]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = Pos Y >= -10
value = 55
ctrl = 1

;---------------------------------------------------------------------------
; Grab Attempt
[Statedef 800]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 800
ctrl = 0

[State 800, VarSet]
type = VarSet
trigger1 = Time <= 0
var(0) = 0

[State 800, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NT
hitflag = MA-
priority = 1, Miss
sparkno = -1
sprpriority = 1
p2facing = 1
p1stateno = 801
p2stateno = 805
numhits = 0

[State 800, Sound]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3,0
channel = 1

[State 800, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Grabbed Opponent
[Statedef 801]
type = S
movetype = A
physics = S
velset = 0,0
anim = 801
ctrl = 0

[State 800, 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 800, VarAdd]
type = VarAdd
trigger1 = 1
var(0) = 1

[State 800, TargetState]
type = TargetState
trigger1 = NumTarget > 0
trigger1 = Time <= 0
value = 805

[State 800, Sound]
type = PlaySnd
triggerall = PrevStateNo = 800
trigger1 = AnimElem = 1
value = 3,0
channel = 1

[State 800, Explod]
type = Explod
triggerall = PrevStateNo = 800
trigger1 = AnimElem = 1
sprpriority = 10
pos = 20,-20
postype = p1
anim = F0

[State 800, 0]
type = TargetBind
trigger1 = TimeMod = 5,0
pos = 20, 0
time = 1

[State 800, State]
type = ChangeState
trigger1 = Time > 0
trigger1 = Command = "x" || Var(50) < 0 && command = "a"
value = 802

[State 800, State]
type = ChangeState
trigger1 = Time > 0
trigger1 = Command = "holdfwd"
value = 803

[State 800, State]
type = ChangeState
trigger1 = Time > 0
trigger1 = Command = "holdback"
value = 804

[State 800, 0]
type = ChangeState
trigger1 = Var(0) >= 100
value = 810

;---------------------------------------------------------------------------
; Head-Butt Opponent
[Statedef 802]
type = S
movetype = A
physics = S
velset = 0,0
anim = 802
ctrl = 0

[State 800, 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 800, VarAdd]
type = VarAdd
trigger1 = 1
ignorehitpause = 1
var(0) = 1

[State 800, TargetState]
type = TargetState
trigger1 = NumTarget > 0
trigger1 = Time <= 0
value = 806

[State 800, Bind]
type = TargetBind
trigger1 = NumTarget > 0
pos = 20, 0

[State 800, Sound]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0, 0
channel = 1

[State 800, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NT
hitflag = MA+
damage = 40, 0
animtype = Light
priority = 1, Miss
sparkno = 1
pausetime = 5,5
sparkxy = -10,-20
hitsound = S1, 0
guardsound = S2, 0
sprpriority = 1
p2facing = 1
p2stateno = 806
numhits = 0
kill = 0

[State 800, 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 801

;---------------------------------------------------------------------------
; Knee Opponent
[Statedef 882]
type = S
movetype = A
physics = S
velset = 0,0
anim = 882
ctrl = 0

[State 800, 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 800, VarAdd]
type = VarAdd
trigger1 = 1
ignorehitpause = 1
var(0) = 1

[State 800, TargetState]
type = TargetState
trigger1 = NumTarget > 0
trigger1 = Time <= 0
value = 806

[State 800, Bind]
type = TargetBind
triggerall = NumTarget > 0
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 20, 0

[State 800, Sound]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 0
channel = 1

[State 800, Bind]
type = TargetBind
triggerall = NumTarget > 0
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
trigger2 = AnimElem = 4, >= 0
pos = 25, 0

[State 800, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NT
hitflag = MA+
damage = 40, 0
animtype = Light
priority = 1, Miss
sparkno = 1
pausetime = 5,5
sparkxy = -10,-15
hitsound = S1, 3
guardsound = S2, 0
sprpriority = 1
p2facing = 1
p2stateno = 806
numhits = 0
kill = 0

[State 800, Bind]
type = TargetBind
triggerall = NumTarget > 0
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = 30, 0

[State 800, 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 801

;---------------------------------------------------------------------------
; Throw Opponent
[Statedef 803]
type = S
movetype = A
physics = S
velset = 0,0
sprpriority = 5
anim = 803
ctrl = 0

[State 800, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 800, Width]
type = Width
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
edge = 20,0

[State 800, Width]
type = Width
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
edge = 0,20

[State 800, TargetState]
type = TargetState
trigger1 = NumTarget > 0
trigger1 = Time <= 0
value = 807

[State 800, Bind]
type = TargetBind
triggerall = NumTarget > 0
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 20, 0

[State 800, SprPriority]
type = SprPriority
trigger1 = AnimElem = 2
value = -5

[State 800, Bind]
type = TargetBind
triggerall = NumTarget > 0
trigger1 = AnimElem = 2, >= 0
trigger1 = AnimElem = 3, < 0
pos = 0, 0

[State 800, Bind]
type = TargetBind
triggerall = NumTarget > 0
trigger1 = AnimElem = 3, >= 0
trigger1 = AnimElem = 4, < 0
pos = -20, 0

[State 800, SprPriority]
type = SprPriority
trigger1 = AnimElem = 4
value = 5

[State 800, Sound]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 0
channel = 1

[State 800, Sound]
type = PlaySnd
triggerall = Var(5) = 0
trigger1 = AnimElem = 4
value = 10,2
channel = 0

[State 800, Bind]
type = TargetBind
triggerall = NumTarget > 0
trigger1 = AnimElem = 4, >= 0
trigger1 = AnimElem = 5, < 0
pos = 0, -5

[State 800, Bind]
type = TargetBind
triggerall = NumTarget > 0
trigger1 = AnimElem = 5
pos = 20, -10

[State 800, LifeAdd]
type = TargetLifeAdd
triggerall = NumTarget > 0
trigger1 = AnimElem = 5
value = -120

[State 800, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Giant Swing
[Statedef 804]
type = S
movetype = A
physics = S
velset = 0,0
sprpriority = 5
anim = 804
ctrl = 0

[State 800, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 800, Width]
type = Width
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 7, < 0
trigger2 = AnimElem = 11, >= 0
trigger2 = AnimElem = 13, < 0
trigger3 = AnimElem = 15, >= 0
trigger3 = AnimElem = 18, < 0
trigger4 = AnimElem = 21, >= 0
trigger4 = AnimElem = 23, < 0
trigger5 = AnimElem = 25, >= 0
trigger5 = AnimElem = 28, < 0
trigger6 = AnimElem = 31, = 0
edge = 30,0

[State 800, Width]
type = Width
trigger1 = AnimElem = 7, >= 0
trigger1 = AnimElem = 8, < 0
trigger2 = AnimElem = 10, >= 0
trigger2 = AnimElem = 11, < 0
trigger3 = AnimElem = 17, >= 0
trigger3 = AnimElem = 18, < 0
trigger4 = AnimElem = 20, >= 0
trigger4 = AnimElem = 21, < 0
trigger5 = AnimElem = 27, >= 0
trigger5 = AnimElem = 28, < 0
trigger6 = AnimElem = 30, >= 0
trigger6 = AnimElem = 31, < 0
edge = 20,0

[State 800, VarRandom]
type = VarRandom
trigger1 = Time <= 0
v = 0
range = 0,2

[State 800, TargetState]
type = TargetState
trigger1 = NumTarget > 0
trigger1 = Time <= 0
value = 808

[State 800, Bind]
type = TargetBind
triggerall = NumTarget > 0
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 7, < 0
trigger2 = AnimElem = 11, >= 0
trigger2 = AnimElem = 13, < 0
trigger3 = AnimElem = 15, >= 0
trigger3 = AnimElem = 18, < 0
trigger4 = AnimElem = 21, >= 0
trigger4 = AnimElem = 23, < 0
trigger5 = AnimElem = 25, >= 0
trigger5 = AnimElem = 28, < 0
trigger6 = AnimElem = 31, = 0
pos = 30, 0

[State 800, Bind]
type = TargetBind
triggerall = NumTarget > 0
trigger1 = AnimElem = 7, >= 0
trigger1 = AnimElem = 8, < 0
trigger2 = AnimElem = 10, >= 0
trigger2 = AnimElem = 11, < 0
trigger3 = AnimElem = 17, >= 0
trigger3 = AnimElem = 18, < 0
trigger4 = AnimElem = 20, >= 0
trigger4 = AnimElem = 21, < 0
trigger5 = AnimElem = 27, >= 0
trigger5 = AnimElem = 28, < 0
trigger6 = AnimElem = 30, >= 0
trigger6 = AnimElem = 31, < 0
pos = 20, 0

[State 800, Bind]
type = TargetBind
triggerall = NumTarget > 0
trigger1 = AnimElem = 8, >= 0
trigger1 = AnimElem = 10, < 0
trigger2 = AnimElem = 13, >= 0
trigger2 = AnimElem = 15, < 0
trigger3 = AnimElem = 18, >= 0
trigger3 = AnimElem = 20, < 0
trigger4 = AnimElem = 23, >= 0
trigger4 = AnimElem = 25, < 0
trigger5 = AnimElem = 28, >= 0
trigger5 = AnimElem = 30, < 0
pos = 0, 0

[State 800, Sound]
type = PlaySnd
triggerall = Var(5) = 0
triggerall = Var(0) <= 0
trigger1 = AnimElem = 2
value = 10,3
channel = 0

[State 800, Sound]
type = PlaySnd
triggerall = Var(5) = 0
triggerall = Var(0) = 1
trigger1 = AnimElem = 2
value = 10,1
channel = 0

[State 800, Sound]
type = PlaySnd
triggerall = Var(5) = 0
triggerall = Var(0) > 1
trigger1 = AnimElem = 2
value = 10,15
channel = 0

[State 800, SprPriority]
type = SprPriority
trigger1 = AnimElem = 7
trigger2 = AnimElem = 17
trigger3 = AnimElem = 27
value = -5

[State 800, SprPriority]
type = SprPriority
trigger1 = AnimElem = 11
trigger2 = AnimElem = 21
trigger3 = AnimElem = 31
value = 5

[State 800, Sound]
type = PlaySnd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 18
trigger3 = AnimElem = 28
value = 0, 0
channel = 1

[State 800, Turn]
type = Turn
trigger1 = AnimElem = 9
trigger2 = AnimElem = 14
trigger3 = AnimElem = 19
trigger4 = AnimElem = 24
trigger5 = AnimElem = 29

[State 800, LifeAdd]
type = TargetLifeAdd
triggerall = NumTarget > 0
trigger1 = AnimElem = 32
value = -160

[State 800, VelSet]
type = VelSet
trigger1 = AnimElem = 33
x = -10

[State 800, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Opponent Grabbed
[Statedef 805]
type = S
movetype = H
physics = N
velset = 0,0
anim = 5000

[State 805, HitBy]
type = HitBy
trigger1 = 1
value = SCA
time = 1

[State 805, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 805, PosAdd]
type = PosAdd
trigger1 = TimeMod = 5,0
x = -2

[State 805, PosAdd]
type = PosAdd
trigger1 = TimeMod = 10,0
x = 4

[State 805, Anim]
type = ChangeAnim
triggerall = Time > 0
trigger1 = TimeMod = 10,0
value = 5000

[State 805, Anim]
type = ChangeAnim
triggerall = Time > 0
trigger1 = TimeMod = 15,0
value = 5001

[State 805, Anim]
type = ChangeAnim
triggerall = Time > 0
trigger1 = TimeMod = 20,0
value = 5002

;---------------------------------------------------------------------------
; Opponent Hit
[Statedef 806]
type = S
movetype = H
physics = N
velset = 0,0

[State 805, HitBy]
type = HitBy
trigger1 = 1
value = S, NT
time = 1

[State 805, NotHitBy]
type = NotHitBy
trigger1 = 1
value = CA, AA, AP
time = 1

[State 805, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 805, Anim2]
type = ChangeAnim2
trigger1 = Anim != 806
value = 806

[State 805, Anim2]
type = ChangeAnim2
trigger1 = Anim = 806
trigger1 = HitShakeOver = 0
value = Anim
elem = AnimElemNo(0)

;---------------------------------------------------------------------------
; Opponent Thrown
[Statedef 807]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0
anim = 5010

[State 805, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 805, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 805, Turn]
type = Turn
trigger1 = P2Dist X < 0

[State 805, Anim]
type = ChangeAnim
trigger1 = Time < 5
value = 5010

[State 805, Anim]
type = ChangeAnim
trigger1 = Time >= 5
trigger1 = Time < 10
value = 5011

[State 805, VelSet]
type = VelSet
trigger1 = Time = 10
x = -5
y = -5

[State 805, VelAdd]
type = VelAdd
trigger1 = Time > 10
y = .5

[State 805, Anim]
type = ChangeAnim
trigger1 = Time >= 10
trigger1 = Time < 15
value = 5012

[State 805, Anim]
type = ChangeAnim
trigger1 = Time >= 15
value = 5030

[State 805, State]
type = SelfState
trigger1 = Time > 15
trigger1 = Vel Y >= 0
value = 5050

;---------------------------------------------------------------------------
; Opponent Swing
[Statedef 808]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0
anim = 5010

[State 805, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 805, Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 805, Anim2]
type = ChangeAnim2
trigger1 = Time <= 0
trigger1 = Anim != 808
value = 808

[State 805, Turn]
type = Turn
triggerall = Anim = 808
trigger1 = AnimElem = 9
trigger2 = AnimElem = 14
trigger3 = AnimElem = 19
trigger4 = AnimElem = 24
trigger5 = AnimElem = 29

[State 805, VelSet]
type = VelSet
trigger1 = AnimTime = 0
x = -6
y = -6

[State 805, Anim] ;Self falling animation
type = ChangeAnim
trigger1 = Anim = 808
trigger1 = AnimTime = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 805, Anim] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Anim = 808
trigger1 = AnimTime = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 805, State]
type = SelfState
trigger1 = Anim != 808
value = 5050

;---------------------------------------------------------------------------
; Grab Fail
[Statedef 810]
type = S
movetype = I
physics = S
velset = -5,0
anim = 810
ctrl = 0

[State 810, TargetState]
type = TargetState
trigger1 = NumTarget > 0
trigger1 = Time <= 0
value = 811

[State 810, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Opponent Recover
[Statedef 811]
type = S
movetype = H
physics = S
velset = -5,0
anim = 5005

[State 810, State]
type = SelfState
trigger1 = Vel X = 0
trigger1 = Time > 10
value = 0
ctrl = 1

;---------------------------------------------------------------------------
